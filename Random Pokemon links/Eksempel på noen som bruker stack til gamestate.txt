https://www.gamedev.net/forums/topic/337919-using-a-stack-for-the-gamestate/